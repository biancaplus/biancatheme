<?php
get_header(); 
?>
<main class="site-main">
    <div class="banner">
        <div class="slogan">
            山高路远，行则将至
        </div>
        <div class="welcome mt15">
            欢迎来到我的博客！
        </div>
    </div>

    <?php 
        if (!have_posts()) {
            echo '<div class="no-data-container">
                    <img src="'.get_template_directory_uri().'/images/no-data.png" alt="" class="no-data" />
                    <p>暂无数据</p>
                </div>';
        }
    ?>

    <div class="cards-wrap">

        <?php
            while(have_posts()){
                the_post();
                $featured_img_url = get_the_post_thumbnail_url(get_the_ID(),'full'); 
                echo '<div class="card">
                <a href="'.get_permalink().'">
                <div class="card-img">';
            
                if (has_post_thumbnail()) {
                    echo '<img src="' . $featured_img_url . '" alt="">';
                } else {
                    echo '<img src="' . get_template_directory_uri() . '/images/water_1.png" alt="">';
                }
                
                echo '</div>
                    </a>';
                the_title('<h1 class="card-title" title="'.get_the_title().'"><a href="'.get_permalink().'">','</a></h1>');
                echo '<div class="card-content">' . get_the_excerpt() . '</div>';
                echo '<div class="card-info"> 
                        <div class="i-wrap">
                            <svg t="1749021048384" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18896" width="14" height="14"><path d="M797.65272793 932.51126548l80.93493963-39.61051117c9.90262743 36.18267951 15.23481164 74.65057911 15.23481164 113.68978599v8.18871158h-87.98103968v-6.47479574c0-25.70874483-2.85652736-50.84618537-8.18871159-75.79319066z m-153.87160293-217.47694309c-52.36966742-32.56441111-113.11848021-50.08444435-175.39077507-50.08444434-185.86470826 0-336.87978382 153.30029715-336.87978381 342.59283707v6.47479576H43.7199617v-8.18871159c0-201.0995199 135.7802639-370.01550068 318.78844479-417.81472344-113.68978599-45.51400114-188.14992986-156.15682453-188.14993133-278.60662641 0-164.91684188 131.781125-299.55449426 294.22231003-299.55449426 162.06031452 0 294.22231003 134.0663466 294.22231002 299.55449426 0 127.02024656-78.07841226 235.37784831-188.14992986 278.60662641 39.61051116 10.47393318 78.07841226 26.85135636 113.11848023 48.37052851l-43.99052058 78.64971803zM263.86299689 309.59788471c0 114.83239605 91.98017858 208.52649196 204.52735304 208.52649046 113.11848021 0 204.52735302-93.3132239 204.52735305-208.52649046 0-114.83239605-91.98017858-208.52649196-204.52735305-208.52649196-112.35673921 0.38087052-204.52735302 93.69409441-204.52735304 208.52649196z m713.37007879 173.4864225c-2.85652736 20.94786639-6.47479575 43.0383443-11.04523897 67.60447907-4.5704432 23.80439375-9.33132311 48.37052853-14.66350586 72.9366633-4.5704432 22.66178369-9.90262743 44.94269538-15.80611741 67.60447906L863.54328969 731.41174557c8.76001737-2.85652736 17.52003325-4.5704432 25.70874631-7.61740582 7.04610006-2.2852216 14.47307211-4.5704432 22.09047791-6.47479576 7.61740581-2.2852216 13.90176631-3.99913891 18.66264479-6.47479429l-7.61740581 29.13657798c-2.2852216 8.18871158-3.99913891 14.47307211-5.90349 18.09133903-3.42783314 9.90262743-8.18871158 19.23395055-12.7591548 27.42266211-4.5704432 8.76001737-9.90262743 15.80611741-13.33046055 22.09047794-4.5704432 7.04610006-9.90262743 14.47307211-15.80611889 19.80525483l-66.46186753 19.80525631L862.40067964 857.09894533c-7.04610006 6.47479575-15.23481164 12.18784901-23.23308799 19.23395055-7.04610006 5.33218423-15.23481164 11.04523897-24.56613478 17.52003472-9.33132311 6.47479575-19.23395055 11.61654474-29.13657944 16.37742318-10.47393318 5.33218423-22.09047791 7.61740581-33.70702117 8.18871158-12.18784901 0-23.80439375-0.57130577-35.04006795-2.85652737-13.33046055-1.71391584-26.28005061-5.33218423-38.4679011-9.33132312 3.99913891-6.47479575 8.18871158-12.75915479 12.75915625-20.94786636 3.99913891-7.04610006 8.76001737-14.66350735 14.47307063-23.23308799s11.61654474-18.66264478 17.52003471-29.70788375c16.94872895-29.70788373 33.70702116-58.27315595 50.08444436-86.8384296s30.85049529-54.27401852 43.60965006-77.50710651c15.23481164-26.85135636 29.13657798-51.79836166 42.46703853-75.79319067-16.94872895 19.80525632-35.04006796 41.89573277-53.70271274 66.46186755-18.66264478 24.56613478-36.7539838 48.94183428-54.27401852 74.07927482-20.94786639 30.85049529-41.32442846 62.27229485-60.55837754 94.45583397-4.5704432 7.04610006-9.33132311 15.23481164-14.4730721 23.80439523-5.33218423 8.76001737-11.04523897 18.66264478-16.94872895 29.13657796-5.90348999 10.47393318-11.61654474 20.37656061-18.66264477 31.42179958-5.90348999 10.47393318-12.18784901 21.51917215-18.66264478 31.42179956-14.47307211 23.80439375-29.13657798 48.94183428-44.37138961 74.6505806 0.57130577-7.61740581 1.71391584-17.52003325 3.99913743-29.70788373 2.2852216-10.47393318 5.90348999-23.23308798 11.04523896-38.4679011 4.5704432-15.23481164 12.18784901-33.70702116 21.51917213-54.27401852 6.47479575-12.75915479 11.04523897-23.23308798 13.90176633-30.8504938s5.90348999-12.75915479 7.61740583-16.94872894c1.14261153-2.85652736 2.2852216-6.47479575 4.57044319-8.76001737-1.71391584-2.2852216-2.2852216-6.47479575-0.57130429-12.75915479 0.57130577-5.90348999 2.2852216-14.47307211 6.47479428-25.70874631 3.42783314-11.04523897 9.33132311-26.85135636 17.52003471-46.65661121 8.18871158-20.37656061 19.23395055-42.46703853 32.56441112-65.89056323 13.33046055-23.80439375 28.56527221-46.65661268 45.51400116-69.88970069 16.94872895-23.23308798 35.61137374-46.08530691 54.84532279-67.60447905 18.66264478-20.94786639 39.03920687-40.18181694 60.55837902-58.27315596 20.37656061-16.94872895 41.32442846-30.85049529 61.70098908-41.32442846s40.7531227-16.94872895 59.98707325-18.09133901c2.47565685 12.94959005 1.33304678 29.70788373-1.52348205 50.65575012z" p-id="18897" fill="#7F7F7F"></path></svg>
                            <span>'.get_the_author().'</span>
                        </div>
                        <div class="i-wrap">
                            <svg t="1749039985470" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5308" width="14" height="14"><path d="M405.344213 85.333333c0.106667-47.146667 38.378667-85.333333 85.333334-85.333333a85.418667 85.418667 0 0 1 85.333333 85.333333h-170.666667z m170.666667 42.666667v853.312A42.56 42.56 0 0 1 533.38688 1024h-85.418667A42.645333 42.645333 0 0 1 405.344213 981.312V128h170.666667z m21.333333 42.666667h298.666667c11.776 0 26.773333 7.616 33.770667 17.429333l81.792 114.474667c6.869333 9.621333 6.997333 25.045333 0 34.858666l-81.792 114.474667c-6.869333 9.621333-22.144 17.429333-33.770667 17.429333H597.344213V170.666667z m85.333334 213.333333h190.762666l45.696-64-45.696-64H682.677547v128z m-296.789334-64v298.666667H120.77888c-11.648 0-26.922667-7.808-33.792-17.429334L5.216213 486.762667c-7.018667-9.813333-6.869333-25.237333 0-34.858667l81.770667-114.474667c7.018667-9.813333 21.994667-17.429333 33.792-17.429333h265.109333zM143.37088 405.333333l-45.717333 64 45.717333 64h157.226667v-128h-157.226667zM597.344213 533.333333h192.085334c11.733333 0 27.306667 7.253333 34.986666 16.469334l79.210667 95.061333c7.573333 9.088 7.68 23.722667 0 32.938667l-79.232 95.061333c-7.573333 9.088-23.210667 16.469333-34.965333 16.469333H597.344213V533.333333z m85.333334 170.666667h88.042666l35.541334-42.666667-35.541334-42.666666H682.677547v85.333333z" fill="#525252" p-id="5309"></path></svg>
                            <span>'.get_the_category()[0]->name.'</span>
                        </div>
                    </div>
                    <div class="card-info mt5"> 
                        <div class="i-wrap">
                            <svg t="1749020534926" class="time-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13141" width="14" height="14"><path d="M521.142857 576h242.285714a36.571429 36.571429 0 0 1 0 73.142857H484.571429a36.571429 36.571429 0 0 1-36.278858-41.142857 36.937143 36.937143 0 0 1-0.292571-4.571429V228.571429a36.571429 36.571429 0 0 1 73.142857 0v347.428571zM512 1024C229.229714 1024 0 794.770286 0 512S229.229714 0 512 0s512 229.229714 512 512-229.229714 512-512 512z m0-73.142857c242.358857 0 438.857143-196.498286 438.857143-438.857143S754.358857 73.142857 512 73.142857 73.142857 269.641143 73.142857 512s196.498286 438.857143 438.857143 438.857143z" fill="#7F7F7F" p-id="13142"></path></svg>
                            <span>';
                            $post_date = get_the_date('Y-m-d');
                            $date1 = new DateTime($post_date);
                            $date2 = new DateTime();
                            $diff = $date1->diff($date2);
                            if ($diff->y === 0 && $diff->m < 12) {
                                $monthsAgo = $diff->y * 12 + $diff->m;
                                echo $monthsAgo === 0 ? '本月' : $monthsAgo . '个月前';
                            } else {
                                echo $post_date;
                            }
                echo '</span>
                        </div>
                        <div class="i-wrap">
                            <svg t="1749202571861" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6107" width="14" height="14"><path d="M512.24 236.572h4.42c198.975 0 368.563 111.514 387.069 255.25l55.137-7.153c-22.088-171.171-215.824-304.024-442.258-304.024h-4.816c-232.526 1.923-422.41 132.826-441.672 304.448l55.242 6.28c15.805-141.213 185.773-253.122 386.878-254.801zM903.676 541.062c-15.796 141.183-185.761 253.093-386.826 254.788h-4.423c-199.015 0-368.643-111.53-387.121-255.28l-55.137 7.18c22.033 171.197 215.811 304.028 442.324 304.028h4.806c232.577-1.912 422.406-132.83 441.617-304.49l-55.241-6.226zM292.263 518.052c1.003 122.358 100.694 221.869 222.228 221.869h1.887c59.354-0.49 114.98-24.25 156.63-66.849 41.623-42.576 64.282-98.969 63.792-158.706-0.978-122.338-100.693-221.866-224.085-221.866-122.595 1.034-221.482 102.23-220.452 225.553zM681.256 514.846c0.354 44.841-16.635 87.060-47.838 119.036-31.259 31.924-72.99 49.727-117.517 50.112l-1.411 27.963v-27.963c-91.13 0-165.912-74.632-166.657-166.376-0.747-92.522 73.413-168.438 166.712-169.19 91.168 0 165.978 74.632 166.71 166.418zM514.070 460.282l-0.45-55.928c-61.282 0.505-110.773 51.12-110.244 112.81l55.597-0.478c-0.244-30.843 24.45-56.146 55.097-56.404z" fill="#525252" p-id="6108"></path></svg>
                            <span>'.get_post_views(get_the_ID()).'</span>
                        </div>
                </div>';
                echo '</div>';
            }

            echo '<div class="card-pointer"></div>';

        ?>
    </div>
    <div class="pagination">    
        <?php
            the_posts_pagination( array(
                'mid_size'=>2,//当前页码数的两边显示几个页码。
                'prev_text'=>'&lt;',//上一页
                'next_text'=>'&gt;',//下一页
                'screen_reader_text'=>' '
            ));

        ?>

        
    </div>
</main>
<?php
get_footer(); 
?>
